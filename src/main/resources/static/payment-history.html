<!DOCTYPE html>
<html>
<head>
    <title>Payment History</title>
</head>
<body>

<h2>My Payment History</h2>

<ul id="payments"></ul>

<script>
const userId = localStorage.getItem("userId");

fetch(`http://localhost:8060/api/payment/history/${userId}`)
.then(res => res.json())
.then(data => {
    const ul = document.getElementById("payments");

    if (data.length === 0) {
        ul.innerHTML = "<li>No payments found</li>";
        return;
    }

    data.forEach(p => {
        ul.innerHTML += `
            <li>
                Amount: â‚¹${p.amount} |
                Method: ${p.method} |
                Status: ${p.status} |
                Date: ${p.paymentDate}
            </li>`;
    });
});
</script>

</body>
</html>
